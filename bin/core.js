(function(){var Config,Core,Redis,SM;Config={env:"development",server:{home:"index.html",directory:"./public",debug:!0,log:!0,secure:!1,session:{enabled:!0,persistence:!0,lifetime:3600,new_session_url:"/session",global_path:!0}},redis:{url:"redis-muit-2357587132.redis.irstack.com",port:6379,auth:"redis-muit-2357587132.redis.irstack.com:f327cfe980c971946e80b8e975fbebb4"}},"undefined"==typeof Utyl&&require("../source/utyl/utyl.js"),SM=require("serve-me"),Redis=require("redis"),Core=function(){function Core(attr){var port;if(!Config)throw new Error("Need to provide a config file ('source/server/config.coffee')");port="production"===attr.env?process.env.PORT||8080:3e3,Config.server.debug="production"===attr.env?!1:!0,this.http_server=SM(Config.server),this.login=new Core.Login(this),this.http_server.start(port)}return Core}(),module.exports=Core,Core.Login=function(){function Login(core){this.core=core,this.core.http_server.on("new_session",function(_this){return function(evt){return"logged in"}}(this)),this.core.http_server.on("session",function(_this){return function(evt){return"logged again"}}(this))}return Login}()}).call(this);